# /prototype - 交互原型

设计用户交互流程和页面状态变化

## 使用方式

```
/prototype [功能描述]
/prototype 登录注册流程
/prototype 订单支付流程
```

## 执行步骤

### 1. 理解用户目标
- 用户要完成什么任务？
- 有哪些关键步骤？
- 可能遇到什么问题？

### 2. 绘制流程图

```
用户流程: [功能名称]

[起点]
   ↓
[步骤1] ──失败──→ [错误处理]
   ↓ 成功              ↓
[步骤2]          [重试/返回]
   ↓
[完成]
```

### 3. 定义页面状态

```markdown
## 页面状态

### [页面名]

| 状态 | 触发条件 | 界面表现 |
|------|----------|----------|
| 初始态 | 首次进入 | 表单为空 |
| 加载中 | 提交数据 | 按钮loading |
| 成功态 | 请求成功 | Toast提示 |
| 失败态 | 请求失败 | 错误提示 |
| 空状态 | 无数据 | 空状态插图 |
```

### 4. 设计交互细节

```markdown
## 交互说明

### 表单交互
| 操作 | 反馈 |
|------|------|
| 输入时 | 实时校验，错误红框+提示 |
| 失焦时 | 完成校验 |
| 提交时 | 按钮loading，禁止重复点击 |

### 手势交互（移动端）
| 手势 | 效果 |
|------|------|
| 下拉 | 刷新数据 |
| 上滑 | 加载更多 |
| 左滑 | 删除操作 |

### 动画效果
| 场景 | 动画 | 时长 |
|------|------|------|
| 页面切换 | 左右滑动 | 300ms |
| 弹窗出现 | 底部弹起 | 250ms |
| Toast | 淡入淡出 | 200ms |
```

### 5. 异常处理

```markdown
## 异常状态

| 异常 | 处理方式 |
|------|----------|
| 网络错误 | Toast提示"网络异常"，可重试 |
| 服务器错误 | 错误页面，联系客服 |
| 登录过期 | 跳转登录页 |
| 无权限 | 提示无权限，返回上页 |
```

### 6. 输出原型文档

存储到 `../shared/designs/[功能名]-prototype.md`

## 示例输出

```markdown
# 交互原型 - 登录流程

## 用户流程

[打开App]
    ↓
[登录页] ─已登录─→ [首页]
    ↓ 未登录
[输入手机号]
    ↓
[获取验证码] ──失败──→ [提示错误，重新获取]
    ↓ 成功
[输入验证码]
    ↓
[登录验证] ──失败──→ [提示错误，重新输入]
    ↓ 成功
[首页]

## 页面状态
...

## 交互细节
...
```
