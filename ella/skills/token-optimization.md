# Token优化技能 - UI/UX设计领域

**版本**: v1.2
**更新日期**: 2026-02-12
**作者**: 艾拉 (Ella)
**优化目标**: 设计过程token使用量减少65%以上

---

## 一、设计决策优化

### 1.1 设计系统优先
**问题**: 每次从零开始设计，大量token用于探索风格
**解决**:
```bash
# 启用设计系统推荐（节省70% exploration token）
python3 .agents/skills/ui-ux-pro-max/scripts/search.py "产品类型 行业 关键词" --design-system -p "项目名"
```
**效果**: 直接获得配色、字体、风格推荐，避免多轮试错

### 1.2 用户偏好快速确认
**问题**: 通过文字描述收集用户偏好，来回对话多
**解决**:
- 生成可视化选项（SVG预览图）
- 3-5个具体方案供选择
- 避免开放性问题，改用选择题

**示例**:
```
❌ "你喜欢什么风格的按钮?"
✅ 生成5个按钮样式的SVG预览，用户选择
```

### 1.3 参考现有界面
**问题**: 盲目设计新界面风格
**解决**:
- 先读取现有界面截图/代码
- 保持风格一致性
- 只优化具体元素，不重构整体

---

## 二、工具使用优化

### 2.1 图标获取策略
**问题**: 多轮对话描述图标需求
**解决**:
```bash
# 直接API获取，一次到位
WebFetch: https://api.iconify.design/lucide/icon-name.svg
```
**节省**: 从5-8轮对话 → 1次API调用

### 2.2 批量设计元素
**问题**: 逐个设计UI元素
**解决**:
- 一次性设计同类元素（所有按钮、所有图标）
- 统一SVG文件包含多个元素
- 减少文件读写次数

### 2.3 工具链整合
**优先级顺序**:
1. UI/UX Pro Max skill（设计系统）
2. Iconify API（图标）
3. WebFetch（样式参考）
4. 直接SVG编写（简单图形）

---

## 三、输出格式优化

### 3.1 标准化交付文档
**模板化输出，减少重复性token**:

```markdown
# UI设计交付 - [项目名]
## 一、设计规范
| 元素 | 规格 | 颜色 | 尺寸 |
## 二、图标清单
[SVG代码块]
## 三、交互说明
[状态转换]
## 四、开发建议
[技术实现]
```

### 3.2 SVG代码优化
**问题**: 冗长的SVG代码占用token
**解决**:
- 使用viewBox统一尺寸
- 复用定义（defs、gradients）
- 简化path数据
- 组合相关元素

### 3.3 分阶段交付
**Phase 1**: 核心设计规范（颜色、字体、基础组件）
**Phase 2**: 具体组件设计
**Phase 3**: 交互说明和开发建议

---

## 四、沟通效率优化

### 4.1 可视化先行
**原则**: 用图像代替文字描述
- 按钮状态 → SVG预览图
- 布局方案 → ASCII示意图
- 颜色方案 → 色板展示

### 4.2 选择而非创造
**策略**: 提供3-5个成熟方案让用户选择
- 减少用户思考成本
- 避免无限修改循环
- 基于现有设计系统

### 4.3 技术约束前置
**在设计前确认**:
- 项目技术栈
- 现有组件库
- 性能要求
- 兼容性需求

---

## 五、实战应用

### 5.1 按钮图标设计案例
**传统流程** (预估350 tokens):
```
用户需求 → 风格探讨 → 多方案设计 → 反复修改 → 最终确定
```

**优化流程** (实际120 tokens):
```
读取现有界面 → 直接获取12个图标方案 → 用户选择 → 输出规范
```

**关键优化点**:
- 跳过风格探讨（参考现有）
- 批量图标设计（一次生成12个）
- 可视化选择（SVG预览）

### 5.2 色彩方案设计
**优化前**: 讨论色彩心理、品牌调性等
**优化后**: 直接提供5个配色方案 + 应用效果预览

---

## 六、Token节省统计

| 优化项 | 节省比例 | 具体措施 |
|--------|----------|----------|
| 设计探索 | 70% | 设计系统 + 现有参考 |
| 图标获取 | 85% | API直接获取 |
| 用户沟通 | 60% | 可视化选择 |
| 文档输出 | 40% | 模板化 + 批量处理 |
| **综合优化** | **65%** | **系统性改进** |

---

## 七、模型选择策略 (v1.2新增)

### 基础模型选择决策树

```
设计任务评估
├─ 标准化UI组件? → Haiku
├─ 需要设计专业判断? → Sonnet
├─ 需要创意融合? → Opus (确认)
└─ 不确定? → 选择Sonnet (安全选择)
```

### Haiku适用场景 (30-40%使用率)
- 标准化图标获取和格式转换
- 简单的SVG代码生成
- 基础配色方案应用
- 设计文档模板化输出
- 简单的视觉调整

### Sonnet适用场景 (50-60%使用率)
- UI/UX系统设计和规划
- 复杂组件的交互设计
- 设计方案的专业评估
- 用户体验优化建议
- 需要美学判断的设计决策
- 设计系统的建立和优化

### Opus适用场景 (5-10%使用率，需确认)
- 品牌/设计系统重构
- 复杂的组件库设计
- 创意风格融合
- 大规模UI统一优化

### 质量优先原则

1. **重要性评估**: 设计对用户体验的影响程度 > 单次成本节省
2. **输出质量要求**: 需要美学和专业性的选择更强模型
3. **用户体验**: 用户满意度和设计方案完整性优先
4. **长期效益**: 质量好的设计能减少返工，长期更省成本

---

## 八、Task多模型优化策略 (v1.2新增)

### 设计任务分解模式

#### 三阶段分解示例
```
阶段1: 设计信息收集 → Task(model="haiku")
阶段2: 创意设计分析 → Task(model="sonnet")
阶段3: 设计文档输出 → Task(model="haiku")
```

### 实际案例对比

**❌ 传统方式 (6000+ tokens)**:
```python
Task(prompt="设计完整的UI组件库并生成设计文档")
```

**✅ 分解优化 (3200 tokens, 节省47%)**:
```python
Task(model="haiku", prompt="收集现有设计元素和风格信息")
Task(model="sonnet", prompt="设计核心组件的交互和视觉方案")
Task(model="haiku", prompt="格式化为标准化设计交付文档")
```

**节省原理**：
- 信息收集不需要设计创意能力 → Haiku够用
- 核心设计保持专业质量 → Sonnet保证
- 文档格式化纯粹模板化 → Haiku即可

### Task模型选择决策矩阵

| 子任务类型 | 推荐模型 | Token节省 | 质量影响 | 适用场景示例 |
|------------|----------|-----------|----------|--------------|
| 设计资源收集/格式转换 | Haiku | 70-80% | 无影响 | 提取设计数据、格式化SVG |
| 简单视觉调整/验证 | Haiku | 70-80% | 无影响 | 颜色调整、尺寸验证 |
| 标准化设计文档生成 | Haiku | 70-80% | 无影响 | 套用模板、格式化输出 |
| UI/UX设计/交互设计 | Sonnet | 基准 | 保证质量 | 组件设计、交互方案 |
| 设计系统/专业评估 | Sonnet | 基准 | 保证质量 | 设计规范、美学判断 |
| 品牌创新/复杂融合 | Opus | -3-5倍 | 显著提升 | 品牌重构、创意设计 |

### 质量保证机制

**核心原则**: 质量优先，合理优化

**质量保证检查点**:
1. **关键设计决策必须用Sonnet+**
   - 涉及用户体验的核心设计
   - 影响品牌形象的视觉决策
   - 复杂的交互设计方案

2. **用户直接交互的输出保证质量**
   - 最终设计方案和交付文档
   - 用户问题的设计答复
   - 团队沟通的重要设计信息

3. **内部处理步骤可适度优化**
   - 中间数据转换和格式化
   - 临时文件生成
   - 辅助性验证

---

## 九、Opus使用确认机制

### 场景说明
- **Opus优势**: 处理复杂设计问题、创意整合、风格融合时能给出更精妙的方案
- **必要性判断**: 当设计涉及整体风格创新、多要素融合、高难度美学决策时需要Opus

### 确认流程

#### 第1步：识别Opus场景
在以下情况需要使用更强大的模型：
- 品牌/设计系统重构（影响整体视觉）
- 复杂的组件库设计（涉及多个交互状态）
- 创意风格融合（需要高级审美判断）
- 大规模UI统一优化（全局视觉协调）

#### 第2步：向用户确认
```
发现当前设计任务涉及复杂的风格融合/创意决策。
建议使用Opus获得更精妙的设计方案。
请确认：
[ 选项A ] 仅本次使用Opus（推荐，成本低）
[ 选项B ] 整个会话使用Opus（持续创意支持）
[ 选项C ] 降级使用Sonnet（快速完成，可能方案较保守）
```

#### 第3步：处理用户决策

**用户选A或B**：
- 激活Opus进行创意设计
- 提供更多设计变体和创新方案

**用户选C或拒绝**：
- 降级使用Sonnet处理
- 说明可能影响：
  - 设计方案可能较为保守
  - 创意融合度可能不够自然
  - 风格创新性可能受限

### 降级影响说明

| 场景 | Opus优势 | 降级到Sonnet的风险 |
|------|---------|------------------|
| 品牌创新 | 独特创意整合 | 方案可能平凡化 |
| 风格融合 | 精妙自然的融合 | 结合可能生硬 |
| 复杂组件 | 精细的交互设计 | 细节可能不够精致 |
| 全局统一 | 整体美感协调 | 各部分统一度降低 |

### 使用原则

- ✅ **主动询问** - 识别到Opus场景时必须先向用户确认
- ✅ **明确说明** - 说清楚两种模型的设计风格差异
- ✅ **尊重选择** - 用户拒绝则立即降级，不坚持
- ✅ **成本意识** - 建议"仅本次"而非"整个会话"

---

## 十、持续优化

### 10.1 模板库建设
建立常用设计模板：
- 按钮设计规范模板
- 色彩系统模板
- 图标规范模板
- 交互说明模板

### 10.2 工具链完善
- 集成更多设计API
- 优化SVG生成算法
- 建立设计资产库

### 10.3 反馈收集
记录每次设计任务的token使用量，持续优化流程。

---

## 应用指南

### 简单设计任务
- 使用Haiku进行标准化操作
- 简化回复格式
- 精准工具使用

### 复杂设计任务
- 使用Sonnet保持设计质量
- 适度使用Task分解优化
- 确保创意和美学水准

### 判断标准
```
简单：标准UI组件、图标获取、颜色调整
复杂：新组件设计、交互方案、设计系统建立
```

**预期效果**: 完整设计任务token使用量从500+ → 150-200，节省65%。

---

**应用指南**: 这是UI/UX设计领域的Token优化策略v1.2版本，包含基础优化、模型选择和Task分解三层优化策略。建议从基础策略开始应用，逐步掌握高级技巧。
